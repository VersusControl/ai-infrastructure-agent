/*! For license information please see 2374.eb00c404.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkweb_ui_react=self.webpackChunkweb_ui_react||[]).push([[2374],{1629:(e,t)=>{t.A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M876.6 239.5c-.5-.9-1.2-1.8-2-2.5-5-5-13.1-5-18.1 0L684.2 409.3l-67.9-67.9L788.7 169c.8-.8 1.4-1.6 2-2.5 3.6-6.1 1.6-13.9-4.5-17.5-98.2-58-226.8-44.7-311.3 39.7-67 67-89.2 162-66.5 247.4l-293 293c-3 3-2.8 7.9.3 11l169.7 169.7c3.1 3.1 8.1 3.3 11 .3l292.9-292.9c85.5 22.8 180.5.7 247.6-66.4 84.4-84.5 97.7-213.1 39.7-311.3zM786 499.8c-58.1 58.1-145.3 69.3-214.6 33.6l-8.8 8.8-.1-.1-274 274.1-79.2-79.2 230.1-230.1s0 .1.1.1l52.8-52.8c-35.7-69.3-24.5-156.5 33.6-214.6a184.2 184.2 0 01144-53.5L537 318.9a32.05 32.05 0 000 45.3l124.5 124.5a32.05 32.05 0 0045.3 0l132.8-132.8c3.7 51.8-14.4 104.8-53.6 143.9z"}}]},name:"tool",theme:"outlined"}},1894:(e,t,r)=>{r.d(t,{A:()=>n});var s=r(9379);const n=new class{constructor(){this.baseURL="http://localhost:8080/api",this.baseURL=this.baseURL.replace(/\/$/,""),console.log("ApiService initialized with baseURL:",this.baseURL)}async call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="".concat(this.baseURL).concat(e),n=(0,s.A)({headers:(0,s.A)({"Content-Type":"application/json"},t.headers)},t);try{const e=await fetch(r,n);if(!e.ok){let t="HTTP ".concat(e.status,": ").concat(e.statusText),r=null;try{const s=await e.text();if(s)try{const e=JSON.parse(s);e.error?t=e.error:e.message?t=e.message:e.detail&&(t=e.detail),r=e}catch(o){s.length<200&&(t=s)}}catch(c){console.warn("Could not read error response body:",c)}const s=new Error(t);throw s.status=e.status,s.statusText=e.statusText,s.details=r,s}const t=await e.text();if(!t)throw new Error("Empty response from server");try{return JSON.parse(t)}catch(o){throw console.error("JSON parse error:",o),console.error("Response text:",t),new Error("Invalid JSON response: ".concat(o.message))}}catch(i){if(console.error("API call failed for ".concat(e,":"),i),"TypeError"===i.name&&"Failed to fetch"===i.message){const e=new Error("Unable to connect to server. Please check your internet connection and try again.");throw e.originalError=i,e.isNetworkError=!0,e}if("AbortError"===i.name){const e=new Error("Request timed out. Please try again.");throw e.originalError=i,e.isTimeoutError=!0,e}throw i}}async processAgentRequest(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.call("/agent/process",{method:"POST",body:JSON.stringify({request:e,dry_run:t})})}async executeConfirmedPlan(e){return this.call("/agent/execute",{method:"POST",body:JSON.stringify({decisionId:e})})}async getInfrastructureState(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"?discovered_only=true":"";return this.call("/state".concat(e))}async discoverInfrastructure(){return this.call("/discover",{method:"POST"})}async exportState(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"?include_discovered=true":"",t=await fetch("".concat(this.baseURL,"/export").concat(e));if(!t.ok)throw new Error("Export failed: ".concat(t.statusText));return t.blob()}async getDependencyGraph(){return this.call("/graph")}async detectConflicts(){const e=new URLSearchParams({auto_resolve:(arguments.length>0&&void 0!==arguments[0]&&arguments[0]).toString()});return this.call("/conflicts?".concat(e))}async generateDeploymentPlan(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=new URLSearchParams;return e.length>0&&e.forEach(e=>{r.append("target_resources",e)}),r.set("include_levels",t.toString()),this.call("/plan?".concat(r))}downloadFile(e,t){const r=window.URL.createObjectURL(e),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(r)}getCurrentTimestamp(){return(new Date).toISOString().split("T")[0]}getBaseURL(){return this.baseURL}getConfig(){return{baseURL:this.baseURL,wsURL:"ws://localhost:8080/ws",environment:"production"}}}},2374:(e,t,r)=>{r.r(t),r.d(t,{default:()=>U});var s=r(5043),n=r(6464),o=r(2019),c=r(5520),i=r(6051),l=r(6399),a=r(6550),d=r(2261),h=r(9472),u=r(2846),y=r(2624),f=r(5492),p=r(1686),g=r(5207),x=r(5215),m=r(5870),v=r(1629),j=r(6571);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},w.apply(this,arguments)}const A=(e,t)=>s.createElement(j.A,w({},e,{ref:t,icon:v.A}));const S=s.forwardRef(A);var b=r(1739),C=r(2411),L=r(9415),T=r(1894),R=r(579);const{Title:E,Text:_,Paragraph:O}=n.A,U=()=>{const{dispatch:e}=(0,L.nm)(),[t,r]=(0,s.useState)(null),[n,v]=(0,s.useState)(!1),[j,w]=(0,s.useState)(!1),A=async()=>{w(!0),e({type:L.TH.SET_LOADING,payload:{key:"conflicts",value:!0}});try{const t=await T.A.detectConflicts(n);r(t),e({type:L.TH.SET_CONFLICTS,payload:t});const s=t.conflicts?t.conflicts.length:0;e({type:L.TH.SET_STATUS_MESSAGE,payload:"Conflict detection completed - ".concat(s," conflicts found")}),0===s?o.Ay.success("No conflicts detected!"):o.Ay.warning("Found ".concat(s," conflicts"))}catch(t){o.Ay.error("Failed to detect conflicts: ".concat(t.message)),console.error("Failed to detect conflicts:",t)}finally{w(!1),e({type:L.TH.SET_LOADING,payload:{key:"conflicts",value:!1}})}},U=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"security":return(0,R.jsx)(g.A,{style:{color:"#ff4d4f"}});case"configuration":return(0,R.jsx)(x.A,{style:{color:"#faad14"}});case"dependency":return(0,R.jsx)(m.A,{style:{color:"#1890ff"}});case"resource":return(0,R.jsx)(S,{style:{color:"#722ed1"}});default:return(0,R.jsx)(m.A,{style:{color:"#666"}})}};return(0,R.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto"},children:[(0,R.jsxs)("div",{style:{marginBottom:24},children:[(0,R.jsx)(E,{level:2,children:"Resource Conflicts"}),(0,R.jsx)(O,{type:"secondary",children:"Detect and resolve conflicts in your infrastructure configuration"})]}),(0,R.jsx)(c.A,{children:(0,R.jsxs)(i.A,{size:"large",style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},children:[(0,R.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,R.jsx)(_,{strong:!0,children:"Auto-resolve conflicts where possible:"}),(0,R.jsx)(u.A,{title:"Automatically resolve conflicts that have clear solutions",children:(0,R.jsx)(y.A,{checked:n,onChange:v,size:"small"})})]}),(0,R.jsx)(f.Ay,{type:"primary",icon:(0,R.jsx)(C.A,{}),onClick:A,loading:j,size:"large",children:"Detect Conflicts"})]})}),j?(0,R.jsxs)("div",{style:{textAlign:"center",padding:"50px 0"},children:[(0,R.jsx)(p.A,{size:"large"}),(0,R.jsx)("div",{style:{marginTop:16},children:(0,R.jsx)(_,{children:"Analyzing infrastructure for conflicts..."})})]}):t?(0,R.jsxs)(R.Fragment,{children:[(()=>{if(!t||!t.conflicts)return null;const e=t.conflicts,r=e.length,s=e.filter(e=>e.auto_resolved).length,n=e.filter(e=>{var t,r;return"high"===(null===(t=e.severity)||void 0===t?void 0:t.toLowerCase())||"critical"===(null===(r=e.severity)||void 0===r?void 0:r.toLowerCase())}).length,o=e.filter(e=>{var t;return"medium"===(null===(t=e.severity)||void 0===t?void 0:t.toLowerCase())}).length,i=e.filter(e=>{var t;return"low"===(null===(t=e.severity)||void 0===t?void 0:t.toLowerCase())}).length;return(0,R.jsx)(c.A,{style:{marginBottom:16},children:(0,R.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:16,textAlign:"center"},children:[(0,R.jsxs)("div",{children:[(0,R.jsx)(E,{level:3,style:{margin:0,color:r>0?"#ff4d4f":"#52c41a"},children:r}),(0,R.jsx)(_,{type:"secondary",children:"Total Conflicts"})]}),s>0&&(0,R.jsxs)("div",{children:[(0,R.jsx)(E,{level:3,style:{margin:0,color:"#52c41a"},children:s}),(0,R.jsx)(_,{type:"secondary",children:"Auto-Resolved"})]}),n>0&&(0,R.jsxs)("div",{children:[(0,R.jsx)(E,{level:3,style:{margin:0,color:"#ff4d4f"},children:n}),(0,R.jsx)(_,{type:"secondary",children:"High Severity"})]}),o>0&&(0,R.jsxs)("div",{children:[(0,R.jsx)(E,{level:3,style:{margin:0,color:"#faad14"},children:o}),(0,R.jsx)(_,{type:"secondary",children:"Medium Severity"})]}),i>0&&(0,R.jsxs)("div",{children:[(0,R.jsx)(E,{level:3,style:{margin:0,color:"#52c41a"},children:i}),(0,R.jsx)(_,{type:"secondary",children:"Low Severity"})]})]})})})(),(()=>{if(!t)return null;if(!t.conflicts||0===t.conflicts.length)return(0,R.jsx)(c.A,{children:(0,R.jsx)(h.A,{description:"No conflicts detected",image:(0,R.jsx)(b.A,{style:{fontSize:64,color:"#52c41a"}}),children:(0,R.jsx)(_,{type:"secondary",children:"Your infrastructure appears to be conflict-free!"})})});const e=[...t.conflicts].sort((e,t)=>{var r,s;const n={critical:4,high:3,medium:2,low:1},o=n[null===(r=e.severity)||void 0===r?void 0:r.toLowerCase()]||0;return(n[null===(s=t.severity)||void 0===s?void 0:s.toLowerCase()]||0)-o});return(0,R.jsx)("div",{children:e.map((e,t)=>((e,t)=>{const r=(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"high":case"critical":return{color:"red",text:"High"};case"medium":return{color:"orange",text:"Medium"};case"low":return{color:"yellow",text:"Low"};default:return{color:"default",text:"Unknown"}}})(e.severity);return(0,R.jsx)(c.A,{size:"small",style:{marginBottom:16},title:(0,R.jsxs)(i.A,{children:[U(e.type),(0,R.jsx)(_,{strong:!0,children:e.resource_id||e.resourceID}),(0,R.jsx)(l.A,{color:r.color,children:r.text}),e.auto_resolved&&(0,R.jsx)(l.A,{color:"success",icon:(0,R.jsx)(b.A,{}),children:"Auto-Resolved"})]}),extra:(0,R.jsx)(_,{type:"secondary",style:{fontSize:12},children:e.type||"Unknown Type"}),children:(0,R.jsxs)(i.A,{direction:"vertical",size:"middle",style:{width:"100%"},children:[(0,R.jsxs)("div",{children:[(0,R.jsx)(_,{strong:!0,children:"Conflict Details:"}),(0,R.jsx)(O,{style:{marginBottom:0,marginTop:4},children:e.details||e.description||"No details available"})]}),e.affected_resources&&e.affected_resources.length>0&&(0,R.jsxs)("div",{children:[(0,R.jsx)(_,{strong:!0,children:"Affected Resources:"}),(0,R.jsx)("div",{style:{marginTop:4},children:e.affected_resources.map((e,t)=>(0,R.jsx)(l.A,{style:{margin:2},children:e},t))})]}),e.resolution_steps&&e.resolution_steps.length>0&&(0,R.jsxs)("div",{children:[(0,R.jsx)(_,{strong:!0,children:"Resolution Steps:"}),(0,R.jsx)(a.A,{size:"small",dataSource:e.resolution_steps,renderItem:(e,t)=>(0,R.jsx)(a.A.Item,{style:{padding:"4px 0"},children:(0,R.jsxs)(_,{children:[t+1,". ",e]})})})]}),e.recommendations&&(0,R.jsxs)("div",{children:[(0,R.jsx)(_,{strong:!0,children:"Recommendations:"}),(0,R.jsx)(O,{style:{marginBottom:0,marginTop:4},children:e.recommendations})]}),e.impact&&(0,R.jsx)(d.A,{message:"Impact Assessment",description:e.impact,type:"info",showIcon:!0,size:"small"})]})},t)})(e,t))})})(),t.scan_time&&(0,R.jsx)(c.A,{size:"small",children:(0,R.jsxs)(_,{type:"secondary",children:["Scan completed in ",t.scan_time,"ms \u2022 Last updated: ",(new Date).toLocaleString()]})})]}):(0,R.jsx)(c.A,{style:{marginTop:16},children:(0,R.jsx)(h.A,{description:"No conflict analysis performed yet",image:h.A.PRESENTED_IMAGE_SIMPLE,children:(0,R.jsx)(f.Ay,{type:"primary",onClick:A,children:"Start Conflict Detection"})})})]})}},2411:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(5043),n=r(4423),o=r(6571);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},c.apply(this,arguments)}const i=(e,t)=>s.createElement(o.A,c({},e,{ref:t,icon:n.A}));const l=s.forwardRef(i)},4423:(e,t)=>{t.A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"}}}]);
//# sourceMappingURL=2374.eb00c404.chunk.js.map